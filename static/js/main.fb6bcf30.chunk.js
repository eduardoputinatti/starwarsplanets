(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),o=(a(13),a(1)),u=Object(n.createContext)(),i=a(3),m=a.n(i),s=a(4),p=a(5),f=a(2);var d=function(){var e=Object(n.useContext)(u),t=e.setFilter,a=e.filters,l=e.FilterNumberFunc,c=Object(n.useState)({column:"population",comparison:"maior que",value:""}),i=Object(f.a)(c,2),d=i[0],E=i[1];function b(){return(b=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(o.a)(Object(o.a)({},a),{},{filterByNumericValues:[{column:d.column,comparison:d.comparison,value:d.value}]})),e.next=3,l();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=e.target,a=t.value,n=t.name;E(Object(o.a)(Object(o.a)({},d),{},Object(s.a)({},n,a)))}return r.a.createElement("form",null,r.a.createElement("select",{name:"column","data-testid":"column-filter",onChange:v},r.a.createElement("option",{name:"column",value:"population"},"population"),r.a.createElement("option",{name:"column",value:"orbital_period"},"orbital_period"),r.a.createElement("option",{name:"column",value:"diameter"},"diameter"),r.a.createElement("option",{name:"column",value:"rotation_period"},"rotation_period"),r.a.createElement("option",{name:"column",value:"surface_water"},"surface_water")),r.a.createElement("select",{name:"comparison","data-testid":"comparison-filter",onChange:v},r.a.createElement("option",{name:"comparison",value:"maior que"},"maior que"),r.a.createElement("option",{name:"comparison",value:"menor que"},"menor que"),r.a.createElement("option",{name:"comparison",value:"igual a"},"igual a")),r.a.createElement("input",{name:"value","data-testid":"value-filter",placeholder:"Digite o valor",onChange:v}),r.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:function(){return b.apply(this,arguments)}},"filtrar"))};var E=function(){var e=Object(n.useContext)(u),t=e.data,a=e.filterPlanets,l=e.setFilter,c=e.filters,i=e.filterNumber,m=a.length<=0?t:i.length>=1?i:a;return r.a.createElement("main",null,r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"inputName"},"Digite o Nome de um Planeta",r.a.createElement("input",{id:"inputName","data-testid":"name-filter",onChange:function(e){var t=e.target.value;l(Object(o.a)(Object(o.a)({},c),{},{filterByName:{name:t}}))}}))),r.a.createElement(d,null),r.a.createElement("table",{border:1},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Per\xedodo de Rota\xe7\xe3o"),r.a.createElement("th",null,"Per\xedodo Orbital"),r.a.createElement("th",null,"Diametro"),r.a.createElement("th",null,"Clima"),r.a.createElement("th",null,"Gravidade"),r.a.createElement("th",null,"Terreno"),r.a.createElement("th",null,"\xc1gua na Superf\xedcie"),r.a.createElement("th",null,"Popula\xe7\xe3o"),r.a.createElement("th",null,"Filmes"),r.a.createElement("th",null,"Criado"),r.a.createElement("th",null,"Editado"),r.a.createElement("th",null,"url"))),r.a.createElement("tbody",null,m.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population),r.a.createElement("td",null,e.films),r.a.createElement("td",null,e.created),r.a.createElement("td",null,e.edited),r.a.createElement("td",null,e.url))})))))};var b=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(f.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)({filterByName:{name:""},filterByNumericValues:[{column:"",comparison:"",value:""}]}),s=Object(f.a)(i,2),d=s[0],E=s[1],b=Object(n.useState)([]),v=Object(f.a)(b,2),h=v[0],j=v[1];Object(n.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-trybe.herokuapp.com/api/planets/",e.next=3,fetch("https://swapi-trybe.herokuapp.com/api/planets/").then((function(e){return e.json()}));case 3:t=e.sent,o(t.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=Object(n.useState)([]),g=Object(f.a)(O,2),y=g[0],w=g[1];function N(){var e=d.filterByNumericValues[0].column;console.log(parseInt(e,10)),console.log(e);var t=d.filterByNumericValues[0].comparison;console.log(parseInt(t,10)),console.log(t);var a=d.filterByNumericValues[0].value;console.log(parseInt(a,10)),console.log(a);var n=c.filter((function(n){switch(t){case"maior que":return parseInt(n[e],10)>parseInt(a,10);case"menor que":return parseInt(n[e],10)<parseInt(a,10);case"igual a":return parseInt(n[e],10)===parseInt(a,10);default:return null}}));w(n)}Object(n.useEffect)((function(){var e=c.filter((function(e){return e.name.toLowerCase().includes(d.filterByName.name)}));j(e)}),[d]),Object(n.useEffect)(N,[d]);var x={data:c,filterPlanets:h,setFilter:E,filters:d,filterNumber:y,FilterNumberFunc:N};return r.a.createElement(u.Provider,{value:x},t)};var v=function(){return r.a.createElement(b,null,r.a.createElement("h1",null,"Starwars Planets"),r.a.createElement(E,null))};c.a.render(r.a.createElement(v,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.fb6bcf30.chunk.js.map